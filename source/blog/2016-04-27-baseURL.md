---
title: baseURL
author: Nathan Hammond
tags: Recent Posts, Ember CLI
---

The `baseURL` property in Ember CLI applications is often and tragically misunderstood. It is in fact misunderstood and buggy to the point that we have [at least 67 issues](https://github.com/ember-cli/ember-cli/search?q=baseURL&type=issues) referencing it. This guide is not about how to use it. **[Landing today in Ember CLI's canary channel, we're deprecating `baseURL`.](https://github.com/ember-cli/ember-cli/pull/5792)** Newly generated applications using this version of Ember CLI will not use this approach. This is the culmination of a lot of research and work by [Tobias Bieniek](https://github.com/Turbo87) and we're incredibly grateful for his efforts.

Because this will have consequences in how your application is deployed we wanted to make sure we provide enough information to help you migrate off of this now-deprecated pattern. This is the primary change that we intend to land in Ember CLI 2.7 which will become our stable release in approximately 10 weeks.

### What was it?

If you're one of the lucky souls who has managed to avoid encountering issues with this, congratulations! If you've had any issues with it, we're sorry. [Variations on the `baseURL` solution has been our default asset loading behavior for two years](https://github.com/ember-cli/ember-cli/commit/404091401400478ef55088888b8ec383e02a17d6#diff-b785f57fd6a80a44da40bd76e531d8ecR11) and you can probably [blame me for it](https://github.com/ember-cli/ember-cli/issues/172).

### Why are we deprecating it?

There are a number of reasons why we're moving away from this pattern, but a few things really made it unnecessarily complicated.

#### API Design Bugs

Before today Ember CLI apps could have both `baseURL` and `rootURL`. These two names are far too similar and do things which are far too similar. In short, `baseURL` is the property that we used to identify what value to put in the `<base href="..." />` tag we included in `index.html`. This was to determine where assets external to the application lived, including `app.js`, `vendor.js`, `app.css`, and anything else that wasn't specified with a fully-qualified path. `rootURL` was intended to identify the path at which the Ember application would be hosted so that our router knew which segments should be ignored. We should have consolidated on a single approach long before now.

#### Implicit Behavior

Not only did we have two properties, if only one of `baseURL` or `rootURL` was set Ember CLI tried to guess what the other should be set to based upon the one we did have. This implicit behavior violated the principle of least surprise for many people. If we had always required both to be specified and provided very clear documentation about what each did we may have averted some of the pain.

#### Integration With Other Applications

For example, not every Ember application is full green field development. If you happened to have legacy user-generated content or other data which had relative links, this didn't play nicely with the `<base>` tag. Rewriting this content is an option, but incurs cost and bugs we can more-simply avoid by not including the `<base>` tag.

#### SVG

And worst of all, in something that we can't code around, SVG has `<use>` cases that require addressing content fragments which break terribly with the `<base>` tag. As long as you didn't use SVG all of the other reasons were manageable, but it turns out that `<use xlink:xhref="#__SVG_ID__"></use>` doesn't play nicely with the `<base>` tag. We like to play nicely with the web ecosystem and breaking weird things in SVG is the final straw that pushed us over the edge on removing the `<base>` tag.

### How Do I Migrate?

This depends primarily on how your application is deployed. It's our goal is to make it easy for you to achieve the same behaviors you've had in the past. In an uncustomized Ember CLI application you will likely not encounter any issue. We've been very careful to make sure that the out of the box experience is as smooth as possible.

From this point forward in `config/environment.js` you should simply set the `rootURL` property on the `ENV` object to where your application will appear on the server:

```javascript
module.exports = function(environment) {
  var ENV = {
    /* ... */
    rootURL: '/path/to/application/'
    /* ... */
  };

  return ENV;
}
```

#### New Development

Your development environment will serve all of its assets using the bundled `ember server` command. This should be unaffected as all assets are still inside of the Ember CLI world.

#### Upgrading

If you are upgrading your application to the new version of Ember CLI you should pay close attention to the configuration changes inside of [the](https://github.com/ember-cli/ember-cli/pull/5792/files#diff-42e917b9304df0e99048f335019647bc) [modified](https://github.com/ember-cli/ember-cli/pull/5792/files#diff-f4d09ffc13efe496dd246031d423e166) [blueprint](https://github.com/ember-cli/ember-cli/pull/5792/files#diff-9588ab8abb99afa6cac30dd0e2b86041) [files](https://github.com/ember-cli/ember-cli/pull/5792/files#diff-3b0f91e0e9f317eecebfad38da2f9b4c). We have also inserted deprecation warnings which will hopefully guide you through each of these changes.

### What Changes About Built Assets?

In general nothing too much changes except how you might accomplish certain behaviors.

#### How To Use a CDN

When you deploy the application, it's very likely that you'll want to have your CSS & JavaScript assets served from a CDN. Bundled by default inside of Ember CLI is [`broccoli-asset-rev`](https://github.com/rickharrison/broccoli-asset-rev) which gives you the `prepend` option for defining from where to load your assets.

```javascript
var app = new EmberApp(defaults, {
  // Add options here
  fingerprint: {
    prepend: 'https://cdn.example.com/'
  }
});
```

Note that this option only applies when doing *production* builds via something like `ember build --prod`. This removes the entire `rootURL` path and only includes as path segments the ones which occur inside of `index.html`.

#### CSS, Fonts, and Other Static Assets

Depending upon how you were including these you may need to adjust the inclusion paths. Most of this was probably already handled outside of the Ember build pipeline, but do check to make sure that everything is still working properly.

#### Addon Consumption and Development

It's possible that you have addons which rely on rewriting asset URLs. If there is any impact, it is most likely going to impact users of `ember-cli-deploy`. Please let us know what you discover during this canary/beta process, we'd like to see what each addon is attempting to accomplish and make sure we can support that use case.

#### Everything is Broken! Help!

If for some reason this is causing tremendous problems in your application we have one simple trick to help you. You can simply add this into your `index.html` file:

```html
<base href="/what/your/baseURL/was/" />
```

### How Can I Test This?

Using our new release channel setup, you can help us test this by moving to our new canary channel:

```sh
npm install --save-dev ember-cli/ember-cli#canary
```

This is the primary change that we intend to land in Ember CLI 2.7 which will become our stable release in approximately 10 weeks. If you discover any problems with this please [file an issue](https://github.com/ember-cli/ember-cli/issues/new), we'll be paying especially close attention to this topic.